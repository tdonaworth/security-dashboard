{"swagger":"2.0","info":{"version":"0.0.2","title":"iQIES Example Service","description":"This service provides a reference for common utilities and patterns of the Node services in iQIES."},"x-service":"template","host":"example.service.consul:32769","basePath":"","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"paths":{"/v1/records":{"parameters":[],"get":{"description":"get all records","operationId":"getAllRecords","tags":["records"],"parameters":[{"name":"limit","in":"query","type":"number","format":"int32","default":10},{"name":"pageNumber","in":"query","type":"number","format":"int32","default":1}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/AllRecords"}}}},"post":{"description":"create new record","operationId":"createRecord","tags":["records"],"parameters":[{"name":"example","in":"body","required":true,"schema":{"$ref":"#/definitions/CreateRecord"}}],"responses":{"201":{"description":"Success","schema":{"type":"object","required":["id"],"properties":{"id":{"type":"number","format":"int64"}}}}}}},"/v1/ping-db":{"parameters":[],"get":{"description":"Health check for database connection.","operationId":"pingDb","tags":["utils"],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/PingResponse"}}}}},"/v1/ping":{"parameters":[],"get":{"description":"Health Check","operationId":"ping","tags":["utils"],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/PingResponse"}}}}},"/v1/auth-records":{"parameters":[],"get":{"description":"Get all records","tags":["auth-records"],"operationId":"getAllRecordsWithAuth","parameters":[{"name":"limit","in":"query","type":"number","format":"int32","default":10},{"name":"pageNumber","in":"query","type":"number","format":"int32","default":1}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/AllRecords"}},"default":{"description":"Unexpected Error"}}},"post":{"description":"Create new record, create-provider priveledge required","operationId":"createRecordWithAuth","tags":["auth-records"],"parameters":[{"name":"example","in":"body","required":true,"schema":{"$ref":"#/definitions/CreateRecord"}}],"responses":{"201":{"description":"Success","schema":{"type":"object","required":["id"],"properties":{"id":{"type":"number","format":"int64"}}}},"default":{"description":"Unexpected Error"}}}},"/v1/records/{id}":{"parameters":[],"get":{"description":"Return a record of the given ID if found.","operationId":"getRecord","tags":["records"],"parameters":[{"name":"id","in":"path","description":"ID of record to return","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Record"}},"404":{"description":"Not Found"},"default":{"description":"Unexpected Error"}}},"put":{"description":"Update Record.","operationId":"updateRecord","tags":["records"],"parameters":[{"name":"id","in":"path","description":"ID of record to update","required":true,"type":"integer","format":"int64"},{"name":"example","in":"body","required":true,"schema":{"$ref":"#/definitions/CreateRecord"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Record"}},"404":{"description":"Not Found"},"default":{"description":"Unexpected Error"}}}},"/v1/auth-records/{id}":{"parameters":[],"get":{"description":"Get record by id. This endpoint demonstrates auth middleware, the user must have priveledges to view providers.","operationId":"getRecordById","tags":["auth-records"],"parameters":[{"name":"id","in":"path","description":"ID of record to return","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Record"}},"404":{"description":"Not Found"},"default":{"description":"Unexpected Error"}}}}},"definitions":{"Record":{"required":["id","description"],"properties":{"id":{"type":"integer","format":"int64"},"description":{"type":"string"}}},"CreateRecord":{"required":["description"],"properties":{"description":{"type":"string"}}},"AllRecords":{"type":"object","required":["results","limit","count","pages","pageNumber"],"properties":{"results":{"type":"array","items":{"$ref":"#/definitions/Record"}},"limit":{"type":"number","format":"int64"},"count":{"type":"number","format":"int64"},"pages":{"type":"number","format":"int64"},"pageNumber":{"type":"number","format":"int64"}}},"PingResponse":{"required":["message"],"properties":{"message":{"type":"string"}}}},"tags":[{"name":"records"},{"name":"utils"},{"name":"auth-records"}]}